function k(){}function H(t,e){for(const n in e)t[n]=e[n];return t}function J(t){return t()}function K(){return Object.create(null)}function j(t){t.forEach(J)}function Q(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function gt(t){return Object.keys(t).length===0}function mt(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Lt(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode.removeChild(t)}function Nt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Dt(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function Pt(){return Z(" ")}function z(){return Z("")}function It(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function bt(t){return Array.from(t.childNodes)}function yt(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}let L;function N(t){L=t}function F(){if(!L)throw new Error("Function called outside component initialization");return L}function wt(t){F().$$.after_update.push(t)}function kt(t){F().$$.on_destroy.push(t)}function Et(){const t=F();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const c=yt(e,n);o.slice().forEach(u=>{u.call(t,c)})}}}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const O=[],et=[],D=[],nt=[],st=Promise.resolve();let M=!1;function rt(){M||(M=!0,st.then(ot))}function $t(){return rt(),st}function U(t){D.push(t)}let Y=!1;const B=new Set;function ot(){if(!Y){Y=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];N(e),xt(e.$$)}for(N(null),O.length=0;et.length;)et.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];B.has(e)||(B.add(e),e())}D.length=0}while(O.length);for(;nt.length;)nt.pop()();M=!1,Y=!1,B.clear()}}function xt(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const P=new Set;let E;function W(){E={r:0,c:[],p:E}}function X(){E.r||j(E.c),E=E.p}function $(t,e){t&&t.i&&(P.delete(t),t.i(e))}function v(t,e,n,o){if(t&&t.o){if(P.has(t))return;P.add(t),E.c.push(()=>{P.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function it(t,e){const n={},o={},c={$$scope:1};let u=t.length;for(;u--;){const l=t[u],r=e[u];if(r){for(const s in l)s in r||(o[s]=1);for(const s in r)c[s]||(n[s]=r[s],c[s]=1);t[u]=r}else for(const s in l)c[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function ct(t){return typeof t=="object"&&t!==null?t:{}}function I(t){t&&t.c()}function C(t,e,n,o){const{fragment:c,on_mount:u,on_destroy:l,after_update:r}=t.$$;c&&c.m(e,n),o||U(()=>{const s=u.map(J).filter(Q);l?l.push(...s):j(s),t.$$.on_mount=[]}),r.forEach(U)}function R(t,e){const n=t.$$;n.fragment!==null&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(O.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(t,e,n,o,c,u,l,r=[-1]){const s=L;N(t);const i=t.$$={fragment:null,ctx:null,props:u,update:k,not_equal:c,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:K(),dirty:r,skip_bound:!1,root:e.target||s.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(g,y,..._)=>{const m=_.length?_[0]:y;return i.ctx&&c(i.ctx[g],i.ctx[g]=m)&&(!i.skip_bound&&i.bound[g]&&i.bound[g](m),h&&jt(t,g)),y}):[],i.update(),h=!0,j(i.before_update),i.fragment=o?o(i.ctx):!1,e.target){if(e.hydrate){const g=bt(e.target);i.fragment&&i.fragment.l(g),g.forEach(q)}else i.fragment&&i.fragment.c();e.intro&&$(t.$$.fragment),C(t,e.target,e.anchor,e.customElement),ot()}N(s)}class St{$destroy(){R(this,1),this.$destroy=k}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const c=o.indexOf(n);c!==-1&&o.splice(c,1)}}$set(e){this.$$set&&!gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const S=[];function ut(t,e){return{subscribe:lt(t,e).subscribe}}function lt(t,e=k){let n;const o=new Set;function c(r){if(V(t,r)&&(t=r,n)){const s=!S.length;for(const i of o)i[1](),S.push(i,t);if(s){for(let i=0;i<S.length;i+=2)S[i][0](S[i+1]);S.length=0}}}function u(r){c(r(t))}function l(r,s=k){const i=[r,s];return o.add(i),o.size===1&&(n=e(c)||k),r(t),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:c,update:u,subscribe:l}}function ft(t,e,n){const o=!Array.isArray(t),c=o?[t]:t,u=e.length<2;return ut(n,l=>{let r=!1;const s=[];let i=0,h=k;const g=()=>{if(i)return;h();const _=e(o?s[0]:s,l);u?l(_):h=Q(_)?_:k},y=c.map((_,m)=>mt(_,A=>{s[m]=A,i&=~(1<<m),r&&g()},()=>{i|=1<<m}));return r=!0,g(),function(){j(y),h()}})}function Ot(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,c,u,l=[],r="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(l.push("wild"),r+="/(.*)"):n===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),l.push(c.substring(1,~o?o:~u?u:c.length)),r+=!!~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(r+=(~o?"?":"")+"\\"+c.substring(u))):r+="/"+c;return{keys:l,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function Ct(t){let e,n,o;const c=[t[2]];var u=t[0];function l(r){let s={};for(let i=0;i<c.length;i+=1)s=H(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[7])),{c(){e&&I(e.$$.fragment),n=z()},m(r,s){e&&C(e,r,s),T(r,n,s),o=!0},p(r,s){const i=s&4?it(c,[ct(r[2])]):{};if(u!==(u=r[0])){if(e){W();const h=e;v(h.$$.fragment,1,0,()=>{R(h,1)}),X()}u?(e=new u(l()),e.$on("routeEvent",r[7]),I(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&v(e.$$.fragment,r),o=!1},d(r){r&&q(n),e&&R(e,r)}}}function Rt(t){let e,n,o;const c=[{params:t[1]},t[2]];var u=t[0];function l(r){let s={};for(let i=0;i<c.length;i+=1)s=H(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[6])),{c(){e&&I(e.$$.fragment),n=z()},m(r,s){e&&C(e,r,s),T(r,n,s),o=!0},p(r,s){const i=s&6?it(c,[s&2&&{params:r[1]},s&4&&ct(r[2])]):{};if(u!==(u=r[0])){if(e){W();const h=e;v(h.$$.fragment,1,0,()=>{R(h,1)}),X()}u?(e=new u(l()),e.$on("routeEvent",r[6]),I(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&v(e.$$.fragment,r),o=!1},d(r){r&&q(n),e&&R(e,r)}}}function At(t){let e,n,o,c;const u=[Rt,Ct],l=[];function r(s,i){return s[1]?0:1}return e=r(t),n=l[e]=u[e](t),{c(){n.c(),o=z()},m(s,i){l[e].m(s,i),T(s,o,i),c=!0},p(s,[i]){let h=e;e=r(s),e===h?l[e].p(s,i):(W(),v(l[h],1,1,()=>{l[h]=null}),X(),n=l[e],n?n.p(s,i):(n=l[e]=u[e](s),n.c()),$(n,1),n.m(o.parentNode,o))},i(s){c||($(n),c=!0)},o(s){v(n),c=!1},d(s){l[e].d(s),s&&q(o)}}}function at(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const G=ut(null,function(e){e(at());const n=()=>{e(at())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ft(G,t=>t.location);ft(G,t=>t.querystring);const dt=lt(void 0);function qt(t,e,n){let{routes:o={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(f,a){if(!a||typeof a!="function"&&(typeof a!="object"||a._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:p}=Ot(f);this.path=f,typeof a=="object"&&a._sveltesparouter===!0?(this.component=a.component,this.conditions=a.conditions||[],this.userData=a.userData,this.props=a.props||{}):(this.component=()=>Promise.resolve(a),this.conditions=[],this.props={}),this._pattern=b,this._keys=p}match(f){if(c){if(typeof c=="string")if(f.startsWith(c))f=f.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const w=f.match(c);if(w&&w[0])f=f.substr(w[0].length)||"/";else return null}}const a=this._pattern.exec(f);if(a===null)return null;if(this._keys===!1)return a;const b={};let p=0;for(;p<this._keys.length;){try{b[this._keys[p]]=decodeURIComponent(a[p+1]||"")||null}catch{b[this._keys[p]]=null}p++}return b}async checkConditions(f){for(let a=0;a<this.conditions.length;a++)if(!await this.conditions[a](f))return!1;return!0}}const r=[];o instanceof Map?o.forEach((d,f)=>{r.push(new l(f,d))}):Object.keys(o).forEach(d=>{r.push(new l(d,o[d]))});let s=null,i=null,h={};const g=Et();async function y(d,f){await $t(),g(d,f)}let _=null,m=null;u&&(m=d=>{d.state&&d.state.__svelte_spa_router_scrollY?_=d.state:_=null},window.addEventListener("popstate",m),wt(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let A=null,x=null;const ht=G.subscribe(async d=>{A=d;let f=0;for(;f<r.length;){const a=r[f].match(d.location);if(!a){f++;continue}const b={route:r[f].path,location:d.location,querystring:d.querystring,userData:r[f].userData,params:a&&typeof a=="object"&&Object.keys(a).length?a:null};if(!await r[f].checkConditions(b)){n(0,s=null),x=null,y("conditionsFailed",b);return}y("routeLoading",Object.assign({},b));const p=r[f].component;if(x!=p){p.loading?(n(0,s=p.loading),x=p,n(1,i=p.loadingParams),n(2,h={}),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i}))):(n(0,s=null),x=null);const w=await p();if(d!=A)return;n(0,s=w&&w.default||w),x=p}a&&typeof a=="object"&&Object.keys(a).length?n(1,i=a):n(1,i=null),n(2,h=r[f].props),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i})).then(()=>{dt.set(i)});return}n(0,s=null),x=null,dt.set(void 0)});kt(()=>{ht(),m&&window.removeEventListener("popstate",m)});function _t(d){tt.call(this,t,d)}function pt(d){tt.call(this,t,d)}return t.$$set=d=>{"routes"in d&&n(3,o=d.routes),"prefix"in d&&n(4,c=d.prefix),"restoreScrollState"in d&&n(5,u=d.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,h,o,c,u,_t,pt]}class Tt extends St{constructor(e){super();vt(this,e,qt,At,V,{routes:3,prefix:4,restoreScrollState:5})}}export{Tt as R,St as S,Pt as a,It as b,T as c,q as d,Dt as e,I as f,Lt as g,v as h,vt as i,R as j,z as k,Nt as l,C as m,k as n,V as s,$ as t};
